"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[263],{4677:function(t,s,e){var o=e(4311),a=e(1020),i=e(6294);const c=(0,i.Z)();s["Z"]=(0,a.Q_)("cartStore",{state:()=>({cart:{}}),actions:{addToCart(t){console.log(t),c.cartLoading=t;const s="https://vue3-course-api.hexschool.io/api/qing-api/cart",e={product_id:t,qty:1};o.Z.post(s,{data:e}).then((t=>{c.cartLoading="",c.pushMessage(t,{title:"加入購物車"}),this.getCart()}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/qing-api/cart";c.isLoading=!0,o.Z.get(t).then((t=>{this.cart=t.data.data,c.isLoading=!1}))},updateCart(t){const s=`https://vue3-course-api.hexschool.io/api/qing-api/cart/${t.id}`;c.cartLoading=t.id;const e={product_id:t.product_id,qty:t.qty};o.Z.put(s,{data:e}).then((t=>{c.cartLoading="",this.getCart()}))},removeCartItem(t){const s=`https://vue3-course-api.hexschool.io/api/qing-api/cart/${t}`;c.isLoading=!0,o.Z["delete"](s).then((t=>{c.isLoading=!1,console.log(t),c.pushMessage(t,{title:"刪除"}),this.getCart()}))}}})},4238:function(t,s,e){var o=e(4311),a=e(1020),i=e(6294);const c=(0,i.Z)();s["Z"]=(0,a.Q_)("productStore",{state:()=>({products:[],pagination:{}}),getters:{sortProducts:t=>t.products.sort(((t,s)=>t.price-s.price))},actions:{getProducts(t=1){const s=`https://vue3-course-api.hexschool.io/api/qing-api/products/?page=${t}`;c.isLoading=!0,o.Z.get(s).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,console.log("products:",t),c.isLoading=!1}))}}})},6294:function(t,s,e){e(7658);var o=e(1020);s["Z"]=(0,o.Q_)("statusStore",{state:()=>({isLoading:!1,cartLoading:"",messages:[]}),actions:{pushMessage(t,s){const{title:e="更新",content:o,style:a="success"}=s;t.data.success?this.messages.push({style:a,title:`${e}成功`,content:o}):this.messages.push({style:"danger",title:`${e}失敗`,content:message.join("、")})}}})},1263:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var o=e(3396);const a={class:"home"};function i(t,s,e,i,c,n){return(0,o.wg)(),(0,o.iD)("div",a)}var c=e(1020),n=(e(4238),e(4677)),r={name:"HomeView",components:{},computed:{...(0,c.rn)(n.Z,["cart"])},methods:{...(0,c.nv)(n.Z,["addToCart","getCart"])},created(){console.log("https://vue3-course-api.hexschool.io","qing-api"),this.getCart()}},p=e(89);const d=(0,p.Z)(r,[["render",i]]);var u=d}}]);
//# sourceMappingURL=263.34110a30.js.map