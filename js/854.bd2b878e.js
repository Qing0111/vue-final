"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[854],{8557:function(t,e,a){a.d(e,{Z:function(){return o}});a(7658);function s(t){return{all:t=t||new Map,on:function(e,a){var s=t.get(e);s?s.push(a):t.set(e,[a])},off:function(e,a){var s=t.get(e);s&&(a?s.splice(s.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var s=t.get(e);s&&s.slice().map((function(t){t(a)})),(s=t.get("*"))&&s.slice().map((function(t){t(e,a)}))}}}const i=s();var o=i},978:function(t,e,a){a(7658);var s=a(8557),i=a(1020),o=a(6294);e["Z"]={computed:{},methods:{...(0,i.nv)(o.Z,["pushMessage"]),toggleFavorite(t){this.favoriteItems.includes(t)?(this.favoriteItems.splice(this.favoriteItems.indexOf(t),1),this.pushMessage(!0,{title:"移除收藏"})):(this.favoriteItems.push(t),this.pushMessage(!0,{title:"加入收藏"})),localStorage.setItem("favoriteItems",JSON.stringify(this.favoriteItems)),s.Z.emit("updateFavorite")},clearLocal(){this.favoriteProduct.splice(0,this.favoriteItems.length),this.favoriteItems=[],localStorage.setItem("favoriteItems",JSON.stringify(this.favoriteItems)),this.pushMessage(!0,{title:"清除"}),s.Z.emit("updateFavorite"),this.$refs.delModal.hideModal()},getLocalFavorite(){return JSON.parse(localStorage.getItem("favoriteItems"))}}}},4677:function(t,e,a){var s=a(4311),i=a(1020),o=a(6294);const r=(0,o.Z)();e["Z"]=(0,i.Q_)("cartStore",{state:()=>({cart:[]}),actions:{addToCart(t,e=1){r.cartLoading=t;const a="https://vue3-course-api.hexschool.io/api/qing-api/cart",i={product_id:t,qty:e};s.Z.post(a,{data:i}).then((t=>{r.cartLoading="",r.pushMessage(t.data.success,{title:"加入購物車"}),this.getCart()}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/qing-api/cart";r.isLoading=!0,s.Z.get(t).then((t=>{this.cart=t.data.data,r.isLoading=!1}))},updateCart(t,e){console.log(t);const a=`https://vue3-course-api.hexschool.io/api/qing-api/cart/${t.id}`;r.isLoading=!0,r.cartLoading=t.id;const i={product_id:t.product_id,qty:e};s.Z.put(a,{data:i}).then((()=>{r.isLoading=!1,r.cartLoading="",this.getCart()}))},removeCartItem(t){const e=`https://vue3-course-api.hexschool.io/api/qing-api/cart/${t}`;r.isLoading=!0,s.Z["delete"](e).then((t=>{t.data.success&&(r.isLoading=!1,console.log(t),r.pushMessage(t.data.success,{title:"刪除"}),this.getCart())}))}}})},6206:function(t,e,a){a.d(e,{Z:function(){return g}});var s=a(3396);const i={class:"bg-brown-deep"},o=(0,s._)("section",{class:"footer container"},[(0,s._)("p",null,"© RabbitFamily All Rights Reserved."),(0,s._)("p",null,"本網站僅練習用，無商業用途")],-1),r=[o];function n(t,e){return(0,s.wg)(),(0,s.iD)("footer",i,r)}var l=a(89);const c={},u=(0,l.Z)(c,[["render",n]]);var g=u},6174:function(t,e,a){a.d(e,{Z:function(){return W}});var s=a(3396),i=a(7139);const o={class:"bg-brown-deep"},r=(0,s._)("section",{class:"discount bg-natural-yellow"},[(0,s._)("p",null,"輸入優惠碼 : 52rabbit，可享有8折優惠!")],-1),n={class:"header"},l=(0,s._)("span",null,null,-1),c=(0,s._)("span",null,null,-1),u=(0,s._)("span",null,null,-1),g=[l,c,u],d={ref:"nav"},h={class:"logo"},p={class:"collect-shop"},v=(0,s._)("i",{class:"bi bi-person"},null,-1),f={class:"itemLength"},m=(0,s._)("i",{class:"bi bi-suit-heart"},null,-1),_={key:0,class:"text-white"},b={class:"itemLength"},Z=(0,s._)("i",{class:"bi bi-cart3"},null,-1),w={key:0,class:"text-white"};function I(t,e,a,l,c,u){const I=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("header",o,[r,(0,s._)("section",n,[(0,s._)("div",{class:"burger",ref:"burger",onClick:e[0]||(e[0]=(...t)=>u.toggleBurger&&u.toggleBurger(...t))},g,512),(0,s._)("nav",d,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(I,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("首頁")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(I,{to:"/products?category=全部"},{default:(0,s.w5)((()=>[(0,s.Uk)("商品")])),_:1})])])],512),(0,s._)("div",h,[(0,s._)("h1",null,[(0,s.Wm)(I,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("RabbitFamily")])),_:1})])]),(0,s._)("ul",p,[(0,s._)("li",null,[(0,s.Wm)(I,{to:"/login"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(I,{to:"/favorite"},{default:(0,s.w5)((()=>[m])),_:1}),c.favoriteItems.length?((0,s.wg)(),(0,s.iD)("article",_,(0,i.zw)(c.favoriteItems.length),1)):(0,s.kq)("",!0)]),(0,s._)("li",b,[(0,s.Wm)(I,{to:"/cart",class:(0,i.C_)({active:"/cart"==this.$route.path})},{default:(0,s.w5)((()=>[Z])),_:1},8,["class"]),t.cart.total?((0,s.wg)(),(0,s.iD)("article",w,(0,i.zw)(t.cart.carts.length),1)):(0,s.kq)("",!0)])])])])}var L=a(1020),k=a(4677),C=a(978),F=a(8557),y={data(){return{favoriteItems:this.getLocalFavorite()||[]}},mixins:[C.Z],computed:{...(0,L.rn)(k.Z,["cart"])},methods:{...(0,L.nv)(k.Z,["getCart"]),toggleBurger(){this.$refs.nav.classList.toggle("active"),this.$refs.burger.classList.toggle("open")}},created(){F.Z.on("updateFavorite",(()=>{this.favoriteItems=this.getLocalFavorite()})),this.getCart()}},x=a(89);const M=(0,x.Z)(y,[["render",I]]);var W=M},5854:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=a(3396);function i(t,e,a,i,o,r){const n=(0,s.up)("Navbar"),l=(0,s.up)("router-view"),c=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(n),(0,s.Wm)(l),(0,s.Wm)(c)],64)}var o=a(6174),r=a(6206),n=a(8557),l={components:{Navbar:o.Z,Footer:r.Z},provide(){return{emitter:n.Z}},created(){}},c=a(89);const u=(0,c.Z)(l,[["render",i]]);var g=u}}]);
//# sourceMappingURL=854.bd2b878e.js.map