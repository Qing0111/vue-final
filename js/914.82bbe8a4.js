"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[914],{1200:function(t,e,r){r.d(e,{Z:function(){return p}});var s=r(3396),l=r(7139);const d={class:"process"},o=(0,s._)("article",null,[(0,s._)("h2",{class:"active"},"1"),(0,s._)("p",null,"購物車")],-1),a=(0,s._)("p",null,"填寫資料",-1),i=(0,s._)("p",null,"確認訂單",-1),n=(0,s._)("p",null,"訂單完成",-1);function u(t,e,r,u,c,_){return(0,s.wg)(),(0,s.iD)("section",d,[o,(0,s._)("article",null,[(0,s._)("h2",{class:(0,l.C_)({active:"/material"==this.$route.path||this.$route.path==`/material/${r.orderId}`||this.$route.path==`/orderCompleted/${r.orderId}`})}," 2 ",2),a]),(0,s._)("article",null,[(0,s._)("h2",{class:(0,l.C_)({active:this.$route.path==`/material/${r.orderId}`||this.$route.path==`/orderCompleted/${r.orderId}`})}," 3 ",2),i]),(0,s._)("article",null,[(0,s._)("h2",{class:(0,l.C_)({active:this.$route.path==`/orderCompleted/${r.orderId}`})}," 4 ",2),n])])}var c={props:["orderId"],created(){}},_=r(89);const h=(0,_.Z)(c,[["render",u]]);var p=h},9914:function(t,e,r){r.r(e),r.d(e,{default:function(){return j}});var s=r(3396),l=r(9242),d=r(7139);const o=(0,s._)("div",{class:"loadingio-spinner-double-ring-juf8237g2sc"},[(0,s._)("div",{class:"ldio-1prs6fceeog"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")])])],-1),a={class:"container-md user-checkout"},i={class:"row justify-content-center check"},n={class:"table mb-0"},u=(0,s._)("thead",{class:"bg-brown-deep text-white"},[(0,s._)("th",{class:"px-2 py-3",width:"32%"},"訂單資訊"),(0,s._)("th")],-1),c=(0,s._)("td",null,"訂單編號",-1),_=(0,s._)("td",null,"Email",-1),h=(0,s._)("td",null,"姓名",-1),p=(0,s._)("td",null,"收件人電話",-1),g=(0,s._)("td",null,"收件人地址",-1),w={class:"border-0"},v=(0,s._)("th",null,"付款狀態",-1),m={key:0},$={key:1,class:"text-success"},b={class:"table"},f=(0,s._)("thead",{class:"bg-brown-deep text-white"},[(0,s._)("th",{class:"px-2 py-3",width:"32%"},"購買項目"),(0,s._)("th",{colspan:"2"})],-1),I={class:""},y=(0,s._)("td",{class:""},"訂單金額",-1),z={class:""},k=(0,s._)("div",{class:"text-end"},[(0,s._)("button",{class:"btn btn-yellow text-white"},"結帳")],-1);function x(t,e,r,x,C,L){const D=(0,s.up)("Loading"),O=(0,s.up)("process");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{active:C.isLoading},{default:(0,s.w5)((()=>[o])),_:1},8,["active"]),(0,s._)("main",a,[(0,s.Wm)(O,{orderId:C.orderId},null,8,["orderId"]),(0,s._)("section",i,[(0,s._)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,l.iM)(((...t)=>L.payOrder&&L.payOrder(...t)),["prevent"]))},[(0,s._)("table",n,[u,(0,s._)("tbody",null,[(0,s._)("tr",null,[c,(0,s._)("td",null,(0,d.zw)(C.order.id),1)]),(0,s._)("tr",null,[_,(0,s._)("td",null,(0,d.zw)(C.order.user.email),1)]),(0,s._)("tr",null,[h,(0,s._)("td",null,(0,d.zw)(C.order.user.name),1)]),(0,s._)("tr",null,[p,(0,s._)("td",null,(0,d.zw)(C.order.user.tel),1)]),(0,s._)("tr",null,[g,(0,s._)("td",null,(0,d.zw)(C.order.user.address),1)]),(0,s._)("tr",w,[v,(0,s._)("td",null,[C.order.is_paid?((0,s.wg)(),(0,s.iD)("span",$,"付款完成")):((0,s.wg)(),(0,s.iD)("span",m,"尚未付款"))])])])]),(0,s._)("table",b,[f,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,d.zw)(t.product.title),1),(0,s._)("td",null,(0,d.zw)(t.qty)+"/"+(0,d.zw)(t.product.unit),1),(0,s._)("td",I,"NT$ "+(0,d.zw)(t.final_total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[y,(0,s._)("td",z,"NT$ "+(0,d.zw)(C.order.total),1)])])]),k],32)])])],64)}r(7658);var C=r(1200),L={components:{process:C.Z},data(){return{order:{user:{}},orderId:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/qing-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.isLoading=!1,console.log(t.data.order),this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/qing-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{console.log(t),t.data.success&&(this.isLoading=!1,this.getOrder(),this.$router.push(`/orderCompleted/${this.orderId}`))}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},D=r(89);const O=(0,D.Z)(L,[["render",x]]);var j=O}}]);
//# sourceMappingURL=914.82bbe8a4.js.map