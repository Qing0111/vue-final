{"version":3,"file":"js/535.32ec5446.js","mappings":"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","sources":["webpack://vue-project/./src/stores/productStore.js","webpack://vue-project/./src/components/Pagination.vue","webpack://vue-project/./src/components/Pagination.vue?33dc","webpack://vue-project/./src/views/front/UserProductList.vue","webpack://vue-project/./src/views/front/UserProductList.vue?2958"],"sourcesContent":["import axios from \"axios\";\r\nimport { defineStore } from \"pinia\";\r\nimport statusStore from \"./statusStore\";\r\n\r\nconst status = statusStore();\r\n\r\nexport default defineStore(\"productStore\", {\r\n  state: () => {\r\n    return {\r\n      products: [],\r\n      isLoadSkeleton: true,\r\n    };\r\n  },\r\n  actions: {\r\n    loadImg(imgUrl) {\r\n      const imgArr = [...imgUrl];\r\n      let i = 0;\r\n      imgArr.forEach((src) => {\r\n        const img = new Image();\r\n        // console.log(src);\r\n        img.src = src;\r\n        img.addEventListener('load', () => {\r\n          i += 1;\r\n          if (i === imgArr.length) {\r\n            this.isLoadSkeleton = false;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\r\n      status.isLoading = true;\r\n      axios.get(url).then((res) => {\r\n        const imgArr = res.data.products.map((item) => [item.imageUrl]);\r\n        this.loadImg([].concat(...imgArr));\r\n\r\n        this.products = res.data.products;\r\n        // console.log(\"products:\", res);\r\n        status.isLoading = false;\r\n      });\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\">\r\n        <a\r\n          class=\"page-style\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n          :class=\"{ disabled: pages.has_pre === false }\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\">\r\n        <a\r\n          class=\"page-style\"\r\n          href=\"#\"\r\n          @click.prevent=\"updatePage(page)\"\r\n          :class=\"{ active: page === pages.current_page }\"\r\n          >{{ page }}</a\r\n        >\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a\r\n          class=\"page-style\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n          :class=\"{ disabled: pages.has_next === false }\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.page-item {\r\n  .page-style {\r\n    display: inline-block;\r\n    text-align: center;\r\n    line-height: 28px;\r\n    text-decoration: none;\r\n    color: #54433c;\r\n    width: 28px;\r\n    height: 28px;\r\n    margin: 0 4px;\r\n    &:hover,\r\n    &.active {\r\n      background-color: #c8a472;\r\n      color: #fff;\r\n    }\r\n    &.disabled {\r\n      pointer-events: none;\r\n      cursor: default;\r\n      opacity: 0.6;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"pages\"],\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit(\"emit-pages\", page);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=61fe491f\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=61fe491f&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Eason\\\\Documents\\\\GitHub\\\\vue-final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Loading :active=\"isLoading\">\r\n    <div class=\"loadingio-spinner-double-ring-juf8237g2sc\">\r\n      <div class=\"ldio-1prs6fceeog\">\r\n        <div></div>\r\n        <div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n      </div></div\r\n  ></Loading>\r\n\r\n  <main class=\"container-md main-product\">\r\n    <div class=\"row\">\r\n      <aside class=\"col-md-3 col-lg-2 list\">\r\n        <h2>類別 /</h2>\r\n        <ul class=\"\">\r\n          <template v-for=\"(item, key) in tabs\" :key=\"key\">\r\n            <li>\r\n              <a\r\n                href=\"#\"\r\n                :class=\"{ active: item.title === tabState }\"\r\n                @click.prevent=\"category(item.title)\"\r\n                >{{ item.title }}</a\r\n              >\r\n            </li>\r\n          </template>\r\n        </ul>\r\n      </aside>\r\n      <section class=\"col-md-9 col-lg-10 products\">\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/\" class=\"text-decoration-none text-dark\"\r\n                >首頁</router-link\r\n              >\r\n            </li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">\r\n              {{ tabState }}\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n        <div class=\"row g-3\">\r\n          <div\r\n            class=\"col-sm-6 col-lg-4\"\r\n            v-for=\"item in productCategory\"\r\n            :key=\"item.id\"\r\n            data-aos=\"fade-up\"\r\n            data-aos-once=\"true\"\r\n            data-aos-duration=\"800\"\r\n            data-aos-offset=\"0\"\r\n          >\r\n            <article\r\n              class=\"\"\r\n              :class=\"['card', 'product-card', { skeleton: isLoadSkeleton }]\"\r\n            >\r\n              <router-link\r\n                :to=\"{\r\n                  name: 'product',\r\n                  params: { product: item.id },\r\n                  query: { name: item.title },\r\n                }\"\r\n              >\r\n                <div class=\"pic\">\r\n                  <img :src=\"item.imageUrl\" class=\"card-img-top\" alt=\"產品圖\" />\r\n                </div>\r\n              </router-link>\r\n\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title fs-5\">\r\n                  {{ isLoadSkeleton ? \"\" : item.title }}\r\n                </h5>\r\n                <p class=\"card-text\" v-if=\"!item.price\">\r\n                  {{ isLoadSkeleton ? \"\" : item.origin_price }} 元\r\n                </p>\r\n                <p class=\"card-text\" v-if=\"item.price\">\r\n                  NT$ {{ isLoadSkeleton ? \"\" : item.origin_price }}\r\n                </p>\r\n                <div class=\"group\">\r\n                  <div\r\n                    class=\"shop\"\r\n                    @click=\"addToCart(item.id)\"\r\n                    :disabled=\"cartLoading == item.id\"\r\n                  >\r\n                    <i class=\"bi bi-cart3\"></i>\r\n                  </div>\r\n                  <div\r\n                    class=\"heart\"\r\n                    @click=\"toggleFavorite(item.id)\"\r\n                    :class=\"{ active: favoriteItems.includes(item.id) }\"\r\n                  >\r\n                    <i\r\n                      class=\"bi bi-suit-heart-fill\"\r\n                      v-if=\"favoriteItems.includes(item.id)\"\r\n                    ></i>\r\n                    <i class=\"bi bi-suit-heart\" v-else></i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </article>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <Pagination :pages=\"pagination\" @emit-pages=\"setPagination\"></Pagination>\r\n  </main>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.main-product {\r\n  padding: 60px 20px;\r\n  min-height: calc(100vh - 158px);\r\n  .list {\r\n    margin-bottom: 28px;\r\n    h2 {\r\n      font-size: 24px;\r\n      margin-bottom: 9px;\r\n      color: #54433c;\r\n    }\r\n    ul {\r\n      display: flex;\r\n      gap: 8px;\r\n    }\r\n    li {\r\n      a {\r\n        text-decoration: none;\r\n        display: inline-block;\r\n        width: 100%;\r\n        color: #000;\r\n        font-size: 16px;\r\n        padding: 10px;\r\n        border: 1px solid #c8a472;\r\n        box-shadow: 1px 1px 1px #927853;\r\n        border-radius: 50px;\r\n\r\n        &:hover {\r\n          background-color: #dfcaac;\r\n          color: #fff;\r\n          border: 1px solid #dfcaac;\r\n          box-shadow: none;\r\n        }\r\n        &.active {\r\n          background-color: #c8a472;\r\n          border: 1px solid #c8a472;\r\n          color: #fff;\r\n          box-shadow: none;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .products {\r\n    margin-bottom: 52px;\r\n    .product-card {\r\n      box-shadow: 1px 1px 2px #ccc;\r\n      transition: box-shadow 0.5s;\r\n      &:hover {\r\n        box-shadow: none;\r\n      }\r\n      .pic {\r\n        width: 100%;\r\n        position: relative;\r\n        &::after {\r\n          content: \"see more\";\r\n          position: absolute;\r\n          width: 100%;\r\n          height: 100%;\r\n          inset: 0 0;\r\n          color: #fff;\r\n          font-size: 24px;\r\n          margin: auto;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          background-color: rgba(84, 67, 60, 0.5);\r\n          clip-path: circle(50px at center);\r\n        }\r\n        img {\r\n          width: 100%;\r\n          object-fit: cover;\r\n          height: 240px;\r\n          cursor: pointer;\r\n          vertical-align: bottom;\r\n        }\r\n      }\r\n\r\n      .group {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n        margin-top: 4px;\r\n        gap: 8px;\r\n      }\r\n      .shop {\r\n        cursor: pointer;\r\n        border: 1px solid #c8a472;\r\n        padding: 6px;\r\n        border-radius: 50%;\r\n        color: #c8a472;\r\n        &:hover {\r\n          background-color: #c8a472;\r\n          color: #fff;\r\n        }\r\n        i {\r\n          font-size: 20px;\r\n        }\r\n      }\r\n      .heart {\r\n        cursor: pointer;\r\n        border: 1px solid #c8a472;\r\n        padding: 6px;\r\n        border-radius: 50%;\r\n        color: #c8a472;\r\n        &:hover,\r\n        &.active {\r\n          background-color: #c8a472;\r\n          color: #fff;\r\n        }\r\n        i {\r\n          font-size: 20px;\r\n        }\r\n      }\r\n    }\r\n    .skeleton {\r\n      .pic {\r\n        height: 240px;\r\n        background-color: #ccc;\r\n        &::after {\r\n          content: \"\";\r\n          width: 0;\r\n          height: 0;\r\n        }\r\n        img {\r\n          width: 0;\r\n          height: 0;\r\n        }\r\n      }\r\n      .card-body {\r\n        h5 {\r\n          width: 100%;\r\n          height: 20px;\r\n          background-color: #ccc;\r\n        }\r\n        p {\r\n          color: #ccc;\r\n          width: 100%;\r\n          height: 16px;\r\n          background-color: #ccc;\r\n        }\r\n        .shop {\r\n          border: 1px solid #ccc;\r\n          background-color: #ccc;\r\n          color: #ccc;\r\n        }\r\n        .heart {\r\n          border: 1px solid #ccc;\r\n          color: #ccc;\r\n          background-color: #ccc;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n@media (min-width: 768px) {\r\n  .main-product {\r\n    padding: 60px 20px;\r\n\r\n    .list {\r\n      h2 {\r\n        font-size: 24px;\r\n        margin-bottom: 9px;\r\n        color: #54433c;\r\n      }\r\n      ul {\r\n        position: sticky;\r\n        top: 106px;\r\n        left: 0;\r\n        display: block;\r\n        border-radius: 4px;\r\n      }\r\n      li {\r\n        margin-bottom: 8px;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .products {\r\n      margin-bottom: 52px;\r\n      .product-card {\r\n        .pic {\r\n          &::after {\r\n            content: \"\";\r\n            clip-path: circle(300px at center);\r\n            transition: clip-path 0.3s;\r\n          }\r\n          img {\r\n            height: 300px;\r\n          }\r\n        }\r\n        &:hover .pic::after {\r\n          content: \"see more\";\r\n          clip-path: circle(50px at center);\r\n        }\r\n      }\r\n      .skeleton {\r\n        .pic {\r\n          height: 300px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport emitter from \"@/methods/emitter\";\r\nimport { mapState, mapActions } from \"pinia\";\r\nimport productStore from \"@/stores/productStore\";\r\nimport cartStore from \"@/stores/cartStore\";\r\nimport statusStore from \"@/stores/statusStore\";\r\nimport localFavorite from \"@/mixins/localFavorite\";\r\nimport Pagination from \"@/components/Pagination.vue\";\r\n\r\nimport AOS from \"aos\";\r\nimport \"aos/dist/aos.css\";\r\n\r\nexport default {\r\n  components: {\r\n    Pagination,\r\n  },\r\n  mixins: [localFavorite],\r\n  provide() {\r\n    return {\r\n      emitter,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      product: {},\r\n      favoriteItems: this.getLocalFavorite() || [],\r\n      tabs: [\r\n        {\r\n          title: \"全部\",\r\n        },\r\n        {\r\n          title: \"兔子\",\r\n        },\r\n        {\r\n          title: \"飼料\",\r\n        },\r\n        {\r\n          title: \"兔用品\",\r\n        },\r\n      ],\r\n      tabState: \"\",\r\n      pagination: {\r\n        current_page: 1,\r\n        total_pages: 1,\r\n        has_pre: false,\r\n        has_next: true,\r\n      },\r\n      productCategory: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(productStore, [\"products\", \"isLoadSkeleton\"]),\r\n    ...mapState(statusStore, [\"isLoading\", \"cartLoading\"]),\r\n\r\n    filterData() {\r\n      let filterValue = [];\r\n      if (this.tabState == \"全部\") {\r\n        filterValue = this.products;\r\n      } else if (this.tabState) {\r\n        filterValue = this.products.filter(\r\n          (item) => item.category == this.tabState\r\n        );\r\n      }\r\n      return filterValue;\r\n    },\r\n  },\r\n  watch: {\r\n    filterData() {\r\n      this.setPagination();\r\n    },\r\n    $route() {\r\n      this.tabState = this.$route.query.category;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(productStore, [\"getProducts\"]),\r\n    ...mapActions(cartStore, [\"addToCart\", \"getCart\"]),\r\n\r\n    category(category) {\r\n      this.$router.push({ name: \"products\", query: { category: category } });\r\n      this.tabState = category;\r\n    },\r\n    setPagination(page = 1) {\r\n      const filterProduct = [...this.filterData];\r\n      const totalPage = Math.ceil(filterProduct.length / 10);\r\n      this.pagination = {\r\n        current_page: page,\r\n        total_pages: totalPage,\r\n        has_pre: page > 1,\r\n        has_next: page < totalPage,\r\n      };\r\n      this.productCategory = filterProduct.splice((page - 1) * 9, page * 9);\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getCart();\r\n    this.tabState = this.$route.query.category || \"全部\";\r\n    AOS.init({});\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./UserProductList.vue?vue&type=template&id=2f462dc0\"\nimport script from \"./UserProductList.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductList.vue?vue&type=script&lang=js\"\n\nimport \"./UserProductList.vue?vue&type=style&index=0&id=2f462dc0&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Eason\\\\Documents\\\\GitHub\\\\vue-final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","products","isLoadSkeleton","actions","loadImg","imgUrl","imgArr","i","forEach","src","img","Image","addEventListener","length","this","getProducts","url","isLoading","axios","then","res","data","map","item","imageUrl","concat","class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","total_pages","page","key","active","_hoisted_7","has_next","props","methods","updatePage","$emit","__exports__","render","_hoisted_22","_createVNode","_component_Loading","_ctx","_hoisted_5","_hoisted_6","$data","title","_hoisted_9","_hoisted_10","_hoisted_11","_component_router_link","to","_hoisted_12","_hoisted_13","id","skeleton","_hoisted_14","alt","_hoisted_16","_hoisted_17","price","_hoisted_18","origin_price","_hoisted_19","_hoisted_20","includes","_hoisted_25","_hoisted_26","_component_Pagination","pages","onEmitPages","components","Pagination","mixins","localFavorite","provide","emitter","product","favoriteItems","getLocalFavorite","tabs","tabState","pagination","productCategory","computed","mapState","productStore","filterData","filterValue","filter","category","watch","setPagination","$route","query","mapActions","cartStore","$router","push","name","filterProduct","totalPage","Math","ceil","splice","created","getCart","AOS"],"sourceRoot":""}